<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
   <head>
      <meta charset="utf-8">
      <th:block th:include="admin_fragment_repository.html :: admin-head-data">
      </th:block>
   </head>
   <body>
      <div th:replace="admin_fragment_repository.html :: top-container-fragment"> </div>
      <nav th:replace="admin_fragment_repository.html :: side-menu(menuItemToActivate='Ogłoszenia wewnętrzne')"></nav>
      <div th:replace="admin_fragment_repository.html :: overlay-menu-effect-fragment"></div>
      <div th:replace="admin_fragment_repository.html :: notification-fragment"></div>
      <!-- !PAGE CONTENT! -->
      <div class="content-main-div w3-main">
      <!-- Header -->
      <header class="w3-container" style="padding-top:22px">
         <h5><b><i class="fa fa-dashboard"></i> Aktualności</b></h5>
      </header>
      <a class="w3-margin-left" th:href="@{'/admin/newslist/create'}">
      <button class="w3-button w3-green">Dodaj aktualności</button>
      </a>
      <div th:switch="${newsList.size}">
         <div th:case="0"  class="w3-display-container" style="height:300px;">
            <div class="w3-display-middle w3-center">
               <p>Brak aktualności</p>
               <p>Dodaj nowe aktualności za pomocą przycisku</p>
            </div>
         </div>
         <div class="w3-container" th:case="*">
                     <div class="w3-card-4 w3-margin" >

         
            <table class="w3-table w3-striped w3-bordered w3-border w3-hoverable w3-white">
               <tbody>
                  <tr th:each="news, iterStat : ${newsList}">
                     <td>
                        <div th:insert="fragment_repository.html :: news-item-fragment(dbNewsObject = ${news}, objectIndex = ${iterStat.index})"/>
                     <div class="w3-right">
                     <br>
                     <a th:href="@{'/aktualnosci-detale/{id}'(id=${news.id})}">
                     <button title="Detale" class="w3-btn w3-green"><i class="fa fa-info"></i></button>
                     </a>
                     <a th:href="@{'/admin/news/edit/{id}'(id=${news.id})}">
                     <button title="Edycja" class="w3-btn w3-indigo"><i class='fa fa-edit'></i></button>
                     </a>
                     <a th:href="@{'/admin/news/delete/{id}'(id=${news.id})}">
                     <button title="Usuń" class="w3-btn w3-red"><i class="fa fa-trash"></i></button>
                     </a>
                     </div>
                     </td>
                  </tr>
               </tbody>
            </table>

         </div>
         
         
         

            </div>
            <div class="w3-center">
               <div th:if="${newsList.totalPages > 0}" class="pagination" th:each="pageNumber : ${pageNumbers}">
                  <a th:href="@{/admin/newslist(size=${newsList.size}, page=${pageNumber})}" th:text=${pageNumber} th:class="${pageNumber==newsList.number + 1} ? active"></a>
               </div>
            </div>
         </div>
      </div>
      <script type="text/javascript" th:replace="admin_fragment_repository.html :: js-script-fragment"></script>
   </body>
</html>